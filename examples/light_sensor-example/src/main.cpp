
#include "Arduino.h"


//#include <Narcoleptic.h> //low-power sleep


//////////////////////////////////////////////////////////////////////////
// Configuration
//////////////////////////////////////////////////////////////////////////

uint8_t DEBUG = 1;

// Pin Assignment
const uint8_t light_pin = A0;

/////////////////////////////////////////////////////////////////////////
// Variables
////////////////////////////////////////////////////////////////////////

uint8_t light_level;


/////////////////////////////////////////////////////////////////////////
// Primatives
/////////////////////////////////////////////////////////////////////////
void detect_light(void);

////////////////////////////////////////////////////////////////////////
// Functions
////////////////////////////////////////////////////////////////////////
void detect_light(void){
  light_level = analogRead(light_pin) >> 2; // inverts and makes it 8-bit
  if(DEBUG){
    Serial.print("Light level: ");
    Serial.println(light_level);
  }
}



////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
//// Initial setup
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
void setup(void)
{
  if(DEBUG){
    Serial.begin(9600);
    Serial.println("Debug: Startup");
  }




}


/////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////
//// LOOP forever
/////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////
void loop(void){
  delay(1000);
  detect_light();
}
